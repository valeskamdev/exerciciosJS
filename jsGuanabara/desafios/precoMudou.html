<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Preço mudou</title>
</head>
<body>
    <h1>Preço mudou</h1>
    <button onclick="verificar()">Verificar</button>
    <section id="result">
        <p>Clique no botão acima para analisar a mudança de preço</p>
    </section>

    <script>
        //value  == referência ao input, que possui várias propriedades, entre elas value, que serve para obter o valor do campo
        function verificar() {
        var precoAnterior = Number(prompt("Qual era o preço anterior do produto?"))
        var precoAtual = Number(prompt("Qual é o preco atual do produto?"))
        var contaQuedaDoPreco = precoAnterior - precoAtual
        var contaAumentoDoPreco = precoAtual - precoAnterior
        var quedaDoPrecoReal = contaQuedaDoPreco.toLocaleString('pt-BR', {style: 'currency', currency: 'BRL'})
        var aumentoDoPrecoReal = contaAumentoDoPreco.toLocaleString('pt-BR', {style: 'currency', currency: 'BRL'})
        var anteriorReal = precoAnterior.toLocaleString('pt-BR', {style: 'currency', currency: 'BRL'})
        var atualReal = precoAtual.toLocaleString('pt-BR', {style: 'currency', currency: 'BRL'})
        var res = document.getElementById("result")
        var porcentagemDaQueda = (precoAnterior - precoAtual) / precoAnterior * 100  // A = valor inicial  e  B = valor final  (A - B) / A x 100 =
        var porcentagemDoAumento =  (precoAtual - precoAnterior) / precoAnterior * 100 // A = valor inicial  e  B = valor final  (B - A) / A x 100 =
        var queda = porcentagemDaQueda.toFixed()
        var aumento = porcentagemDoAumento.toFixed()

        res.innerHTML = "<p><strong>Analisando os valores informados</strong></p>"
        res.innerHTML += `<p>O produto custava ${anteriorReal} e agora custa ${atualReal}.</p>`
        if(precoAnterior > precoAtual) {
            res.innerHTML += "<p>Hoje o produto está mais barato.</p>"
            res.innerHTML += `<p>o preço caiu ${quedaDoPrecoReal} em relação ao preço anterior</p>`
            res.innerHTML += `<p>Uma variação de ${queda}% para baixo.</p>`
        }else {
            res.innerHTML += "<p>Hoje o produto está mais caro.</p>"
            res.innerHTML += `<p>O preço subiu ${aumentoDoPrecoReal} em relação ao preço anterior</p>`
            res.innerHTML += `<p>Uma variação de ${aumento}% para cima.</p>`
        }
    }
    </script>

</body>
</html>